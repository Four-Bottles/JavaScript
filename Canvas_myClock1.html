<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title> JavaScript画钟(宁克俊) </title>
        <style media="screen">
            canvas{
                border : 1px solid black;
            }
        </style>
    </head>
    <body>
    <canvas id="myCanvas" width="800" height="800"></canvas>
    <script type="text/javascript">
        var log = console.log.bind(console)
        var myCanvas = document.querySelector("#myCanvas")  // JavaScript 使用 id 来寻找 canvas 元素
        var context = myCanvas.getContext("2d")     // 创建 context 对象，getContext("2d") 对象是内建的 HTML5对象，具有多种绘制图形的方法
        var pan = function() {
            context.clearRect(0, 0, myCanvas.width, myCanvas.height)
            context.beginPath()
            context.arc(100, 100, 99, 0 ,2 * Math.PI, false)
            // context.moveTo(194, 100)
            // context.arc(100, 100, 94, 0, 2 * Math.PI, false)
            context.stroke()
            context.textAlign = "center"
            context.font = "bold 10px Arial"
            context.fillText("12", 100, 15)
            context.fillText("1", 100 + 90*Math.sin(Math.PI/6), 15 + 94-90*Math.cos(Math.PI/6))
            context.fillText("2", 100 + 90*Math.sin(2 * Math.PI/6), 15 + 94-94*Math.cos(2 * Math.PI/6))
            context.fillText("3", 186, 100)
            context.fillText("4", 100 + 90*Math.sin(4 * Math.PI/6), 15 + 100-60*Math.cos(4 * Math.PI/6))
            context.fillText("5", 100 + 94*Math.sin(5 * Math.PI/6), 15 + 100-70*Math.cos(5 * Math.PI/6))
            context.fillText("6", 100, 190)
            context.fillText("7", 100 + 94*Math.sin(7 * Math.PI/6), 15 + 100-70*Math.cos(7 * Math.PI/6))
            context.fillText("8", 100 + 90*Math.sin(8 * Math.PI/6), 15 + 100-60*Math.cos(8 * Math.PI/6))
            context.fillText("9", 13, 100)
            context.fillText("10", 100 + 90*Math.sin(10 * Math.PI/6), 15 + 94-94*Math.cos(10 * Math.PI/6))
            context.fillText("11", 100 + 90*Math.sin(11 * Math.PI/6), 15 + 94-90*Math.cos(11 * Math.PI/6))
            // context.fillStyle = "gray"
            // context.fill()
        }
        var i = 2
        setInterval(function(){
            pan()
            var now = new Date()
            var sec = now.getSeconds()
            context.strokeStyle = "red"
            context.moveTo(100, 100)
            context.lineTo(100 + 90*Math.sin(sec * Math.PI/30), 10 + 90-90*Math.cos(sec * Math.PI/30))  // 秒针
            var min = now.getMinutes()
            context.moveTo(100, 100)
            context.lineTo(100 + 80*Math.sin((min+sec/60) * Math.PI/30), 20 + 80-80*Math.cos((min+sec/60) * Math.PI/30))  // 分针
            var hour = now.getHours()
            context.moveTo(100, 100)
            context.lineTo(100 + 50*Math.sin((hour+min/60) * Math.PI/6), 50 + 50-50*Math.cos((hour+min/60) * Math.PI/6))   // 时针
            context.stroke()
            context.font = "bold 14px Arial"
            context.textAlign = "left"
            context.fillText(now, 10, 300)
            log(now)
        }, 1000)
    </script>
    </body>
</html>
